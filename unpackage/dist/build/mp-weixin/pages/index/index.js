"use strict";const e=require("../../common/vendor.js"),t=require("../../utils/authorize.js"),a=require("../../stores/app.js"),n=require("../../utils/token.js"),o=require("../../api/index.js"),s=require("../../utils/index.js");if(!Array){(e.resolveComponent("uv-status-bar")+e.resolveComponent("uv-image")+e.resolveComponent("uv-button")+e.resolveComponent("my-login-drawer")+e.resolveComponent("my-tabbar"))()}Math||((()=>"../../uni_modules/uv-status-bar/components/uv-status-bar/uv-status-bar.js")+(()=>"../../uni_modules/uv-image/components/uv-image/uv-image.js")+i+(()=>"../../uni_modules/uv-button/components/uv-button/uv-button.js")+(()=>"../../components/my-login-drawer/my-login-drawer.js")+(()=>"../../components/my-tabbar/my-tabbar.js"))();const i=()=>"../dispatchTask/components/SelectCarType.js",r={__name:"index",setup(i){const r=a.useAppStore();e.onLoad((()=>{r.switchTab(0)})),e.onLoad((async()=>{if(n.getToken())try{await t.getLocationInfo()}finally{!async function(){const e=await o.GetGoodsOrderCount();l.value=e}()}}));const u=e.ref();function c(){u.value.open()}function p(){e.index.reLaunch({url:"/pages/index/index"})}const l=e.ref(0);const d=e.ref(null),m=e.ref(null);function g(t){n.getToken()?e.index.navigateTo({url:"/pages/selectAddress/selectAddress",success(e){e.eventChannel.emit("setData",{type:t,data:1===t?d.value:m.value})},events:{async confirm(e){console.log("confirm",e),1===e.type&&(d.value=e.data),2===e.type&&(m.value=e.data),await s.sleep(500),d.value&&m.value&&v()}}}):c()}const h=e.ref([]);function v(){n.getToken()?e.index.navigateTo({url:"/pages/dispatchTask/dispatchTask",success(e){e.eventChannel.emit("setData",{carType:h.value,supply:d.value,unload:m.value})}}):c()}function x(){e.index.openOfficialAccountArticle({url:"https://mp.weixin.qq.com/s/giY3v4K_9eQWPaeKfiqgJw"})}function f(){e.index.openOfficialAccountArticle({url:"https://mp.weixin.qq.com/s?__biz=MzkxOTcyODM5OA==&mid=2247483675&idx=1&sn=3f1378b5f85fe5ed6144eb9446f63a32&chksm=c19cf97af6eb706cee30883335ba2e11ab4ebd79c23dac68af13106c2b56e20eee02ddfe656c#rd"})}function b(t){if(n.getToken())switch(t){case"数据统计":return void e.index.showToast({title:"敬请期待",icon:"none"});case"问题反馈":return;case"扫码助手":e.index.scanCode({})}else c()}return(t,a)=>e.e({a:e.p({src:"/static/images/home/logo.png",width:"488rpx",height:"144rpx",duration:0}),b:!e.unref(n.getToken)()},e.unref(n.getToken)()?0===l.value?{}:{f:e.t(l.value),g:e.p({src:"/static/images/orange-arrow.png",width:"24rpx",height:"24rpx",duration:0})}:{c:e.p({src:"/static/images/dispatchTask/arrow2.png",width:"24rpx",height:"24rpx",duration:0}),d:e.o(c)},{e:0===l.value,h:d.value},d.value?{i:e.t(d.value.Name)}:{},{j:e.p({src:"/static/images/arrow.png",duration:0,width:"24rpx",height:"24rpx"}),k:e.o((e=>g(1))),l:m.value},m.value?{m:e.t(m.value.Placename)}:{},{n:e.p({src:"/static/images/arrow.png",duration:0,width:"24rpx",height:"24rpx"}),o:e.o((e=>g(2))),p:e.o((e=>h.value=e)),q:e.p({disabled:!e.unref(n.getToken)(),modelValue:h.value}),r:e.o(v),s:e.p({text:"立即派单",color:"linear-gradient( 270deg, #31CE57 0%, #07B130 100%)","custom-style":{height:"104rpx",fontWeight:"bold",borderRadius:"16rpx",marginBottom:"24rpx"},customTextStyle:{fontSize:"32rpx"}}),t:e.p({src:"/static/images/home/scan.png",width:"80rpx",height:"80rpx",duration:0,"custom-style":{marginBottom:"14rpx"}}),v:e.o((e=>b("扫码助手"))),w:e.p({src:"/static/images/home/statistics.png",width:"80rpx",height:"80rpx",duration:0,"custom-style":{marginBottom:"14rpx"}}),x:e.o((e=>b("数据统计"))),y:e.p({src:"/static/images/home/guide.png",width:"80rpx",height:"80rpx",duration:0,"custom-style":{marginBottom:"14rpx"}}),z:e.o(x),A:e.p({src:"/static/images/home/feedback.png",width:"80rpx",height:"80rpx",duration:0,"custom-style":{marginBottom:"14rpx"}}),B:e.o((e=>b("问题反馈"))),C:e.p({width:"100%",height:"100%",duration:0,src:"/static/images/home/banner.png"}),D:e.o(f),E:e.sr(u,"5be606db-13",{k:"loginDrawer"}),F:e.o(p)})}};wx.createPage(r);
