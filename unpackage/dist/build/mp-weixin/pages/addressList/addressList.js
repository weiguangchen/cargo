"use strict";const e=require("../../common/vendor.js"),n=require("../../utils/index.js"),o=require("../../api/index.js");if(!Array){(e.resolveComponent("uv-image")+e.resolveComponent("uv-load-more")+e.resolveComponent("my-empty")+e.resolveComponent("uv-button")+e.resolveComponent("my-confirm"))()}Math||((()=>"../../uni_modules/uv-image/components/uv-image/uv-image.js")+(()=>"../../uni_modules/uv-load-more/components/uv-load-more/uv-load-more.js")+(()=>"../../components/my-empty/my-empty.js")+(()=>"../../uni_modules/uv-button/components/uv-button/uv-button.js")+(()=>"../../components/my-confirm/my-confirm.js"))();const t={__name:"addressList",setup(t){e.onLoad((()=>{i(),e.index.$on("addAddress",(async e=>{await n.sleep(500),i()}))})),e.onUnload((()=>{e.index.$off("addAddress")}));const a=e.ref([]);async function i(){try{e.index.showLoading();const n=await o.GetOwnerUnloadPlace({useStatus:1});a.value=n.filter((e=>"1"===e.EnabledMark))}finally{e.index.hideLoading()}}e.onPullDownRefresh((async()=>{await i(),e.index.stopPullDownRefresh()}));const s=e.ref();function d(){e.index.navigateTo({url:"/pages/addAddress/addAddress"})}return(n,t)=>e.e({a:a.value.length>0},a.value.length>0?{b:e.f(a.value,((n,t,a)=>({a:"c0dfe14a-0-"+a,b:e.t(n.Placename),c:e.t(n.Province),d:e.t(n.City),e:e.t(n.Distinct),f:e.t(n.Address),g:e.t(n.Nickname),h:e.t(n.Mobile),i:"c0dfe14a-1-"+a,j:e.o((t=>{return a=n,void s.value.confirm({title:"确定删除卸货地址？",content:"您的货单和运单记录不会被影响",confirmText:"删除",asyncClose:!0,async confirm(){try{await o.DeleteUnloadPlace({unloadId:a.Id}),e.index.showToast({title:"卸货地删除成功",icon:"none"}),s.value.close(),i()}catch{s.value.closeLoading()}}});var a}),n.Id),k:"c0dfe14a-2-"+a,l:e.o((o=>{return t=n,void e.index.navigateTo({url:`/pages/addAddress/addAddress?unloadId=${t.Id}`});var t}),n.Id),m:n.Id}))),c:e.p({src:"/static/images/location.png",width:"32rpx",height:"32rpx",duration:0}),d:e.p({src:"/static/images/remove.png",width:"32rpx",height:"32rpx","custom-style":{marginRight:"8rpx"},duration:0}),e:e.p({src:"/static/images/edit.png",width:"32rpx",height:"32rpx","custom-style":{marginRight:"8rpx"},duration:0}),f:e.p({status:"nomore",line:!0,color:"#B0BECC"})}:{g:e.p({height:"400px",text:"暂无卸货地"})},{h:e.o(d),i:e.p({text:"+ 添加卸货地址",color:"linear-gradient( 270deg, #31CE57 0%, #07B130 100%)"}),j:e.sr(s,"c0dfe14a-6",{k:"confirm"})})}};wx.createPage(t);
