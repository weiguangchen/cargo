"use strict";const e=require("../../common/vendor.js"),a=require("../../api/index.js");if(!Array){(e.resolveComponent("uv-navbar")+e.resolveComponent("uv-icon")+e.resolveComponent("uv-image")+e.resolveComponent("uv-button")+e.resolveComponent("my-plate"))()}Math||((()=>"../../uni_modules/uv-navbar/components/uv-navbar/uv-navbar.js")+(()=>"../../uni_modules/uv-icon/components/uv-icon/uv-icon.js")+(()=>"../../uni_modules/uv-image/components/uv-image/uv-image.js")+(()=>"../../uni_modules/uv-button/components/uv-button/uv-button.js")+(()=>"../../components/my-plate/my-plate.js")+t+u)();const t=()=>"./components/MapDrawer.js",u=()=>"./components/StepDrawer.js",l={__name:"billDetail",setup(t){const u=e.ref(""),l=e.ref("");e.onLoad((t=>{l.value=t.supplyId,u.value=t.onwayId,async function(){try{const t=await a.GetSupplyOnwayDetail({onwayId:e.unref(u),supplyId:e.unref(l)});r.value=t}catch{}}(),async function(){try{const t=await a.GetOnwayTimeTree({onwayId:e.unref(u),supplyId:e.unref(l)});i.value=t}catch{}}()}));const r=e.ref({});const i=e.ref([]);const s=e.ref();e.onLoad((()=>{s.value=e.index.getSystemInfoSync().statusBarHeight}));const o=e.computed((()=>`${s.value+56}px`));function n(){e.index.navigateBack()}const v=e.ref();function d(){if(r.value.Supplier&&r.value.Supplier.Latitude&&r.value.Supplier.Logitude){const{Province:e,City:a,Address:t,OrderLinker:u,OrderLinkerMobile:l}=r.value.Supplier;v.value.open({name:r.value.Supplier.Name,address:`${e||""}${a||""}${t||""}`,username:u,phone:l,type:"装货地",latitude:r.value.Supplier.Latitude,longitude:r.value.Supplier.Logitude})}}const p=e.ref();function c(){p.value.open()}function g(){r.value.Drivermobile?e.index.makePhoneCall({phoneNumber:r.value.Drivermobile}):e.index.showToast({icon:"none",title:"暂无司机手机号"})}return(a,t)=>e.e({a:e.o(n),b:e.p({bgColor:"rgba(255,255,255,0)"}),c:o.value,d:"1"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{e:"2"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{f:"3"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{g:"4"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{h:"5"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{i:"6"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{j:"7"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{k:"8"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{l:"9"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{m:e.p({name:"arrow-right",size:"32rpx",color:"var(--title-color)","custom-style":{marginLeft:"8rpx"},bold:!0}),n:"2"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{o:"3"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{p:"6"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{q:"7"===r.value.Weightedstatus},(r.value.Weightedstatus,{}),{r:e.o(c),s:r.value.Supplier},r.value.Supplier?e.e({t:e.t(r.value.Supplier.Name||""),v:!r.value.Supplier.OrderLinker&!r.value.Supplier.OrderLinkerMobile},!r.value.Supplier.OrderLinker&!r.value.Supplier.OrderLinkerMobile?{}:e.e({w:r.value.Supplier.OrderLinker},r.value.Supplier.OrderLinker?{x:e.t(r.value.Supplier.OrderLinker||"")}:{},{y:r.value.Supplier.OrderLinkerMobile},r.value.Supplier.OrderLinkerMobile?{z:e.t(r.value.Supplier.OrderLinkerMobile||"")}:{}),{A:e.o(((...e)=>a.selectAddress&&a.selectAddress(...e))),B:e.p({src:"/static/images/arrow.png",duration:0,width:"24rpx",height:"24rpx"}),C:r.value.UnloadPlace?1:"",D:e.o(d)}):{},{E:r.value.UnloadPlace},r.value.UnloadPlace?{F:e.o(((...e)=>a.selectAddress&&a.selectAddress(...e))),G:e.p({src:"/static/images/arrow.png",duration:0,width:"24rpx",height:"24rpx"}),H:e.o(d)}:{},{I:e.t(r.value.Materialname||""),J:["1","2","3","4","5"].includes(r.value.Weightedstatus)},["1","2","3","4","5"].includes(r.value.Weightedstatus)?{K:e.t(r.value.TaxPrice)}:{},{L:["6"].includes(r.value.Weightedstatus)},(["6"].includes(r.value.Weightedstatus),{}),{M:["7"].includes(r.value.Weightedstatus)},["7"].includes(r.value.Weightedstatus)?{N:e.t(r.value.Suttle||"")}:{},{O:["6","7","8"].includes(r.value.Weightedstatus)},["6","7","8"].includes(r.value.Weightedstatus)?{P:e.t(r.value.Billno),Q:e.p({shape:"circle",color:"var(--page-bg)","custom-style":{height:"68rpx",color:"var(--main-color)",fontWeight:"bold"}})}:{},{R:r.value.Carno},r.value.Carno?e.e({S:e.p({plate:r.value.Carno}),T:r.value.Cartype},r.value.Cartype?{U:e.t(r.value.Cartype)}:{},{V:r.value.Drivername||r.value.Drivermobile},r.value.Drivername||r.value.Drivermobile?e.e({W:r.value.Drivername},r.value.Drivername?{X:e.t(r.value.Drivername)}:{},{Y:r.value.Drivermobile},r.value.Drivermobile?{Z:e.t(r.value.Drivermobile)}:{}):{},{aa:r.value.FirstWeight?1:""}):{},{ab:r.value.FirstWeight},r.value.FirstWeight?{ac:e.t(r.value.FirstWeight),ad:e.t(e.unref(e.dayjs)(r.value.FirstTime).format("MM/DD HH:mm")),ae:r.value.SecondWeight?1:""}:{},{af:r.value.SecondWeight},r.value.SecondWeight?{ag:e.t(r.value.SecondWeight),ah:e.t(e.unref(e.dayjs)(r.value.SecondTime).format("MM/DD HH:mm"))}:{},{ai:r.value.OwerName},r.value.OwerName?{aj:e.t(r.value.OwerName)}:{},{ak:e.t(r.value.OnwayNo),al:e.t(r.value.Creatortime),am:e.p({text:"取消运单",color:"var(--page-bg)","custom-style":{height:"96rpx",borderRadius:"16rpx",color:"var(--sub-color)"}}),an:e.o(g),ao:e.p({text:"呼叫司机",color:" linear-gradient( 270deg, #31CE57 0%, #07B130 100%)","custom-style":{height:"96rpx",borderRadius:"16rpx"}}),ap:e.sr(v,"77326575-8",{k:"mapModal"}),aq:e.sr(p,"77326575-9",{k:"stepModal"})})}};wx.createPage(l);
