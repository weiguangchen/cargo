"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("uv-line")+e.resolveComponent("uv-image")+e.resolveComponent("uv-button")+e.resolveComponent("my-drawer"))()}Math||((()=>"../../../uni_modules/uv-line/components/uv-line/uv-line.js")+(()=>"../../../uni_modules/uv-image/components/uv-image/uv-image.js")+(()=>"../../../uni_modules/uv-button/components/uv-button/uv-button.js")+(()=>"../../../components/my-drawer/my-drawer.js"))();const o={__name:"MapDrawer",setup(o,{expose:t}){const{ctx:n}=e.getCurrentInstance(),a=e.ref(),u=e.ref();function r(){const{latitude:e,longitude:o,address:t}=l.value;u.value.openMapApp({longitude:o,latitude:e,destination:t})}e.onMounted((()=>{u.value=e.index.createMapContext("map",n)}));const l=e.ref({name:"",address:"",username:"",phone:"",type:"装货地",longitude:"",latitude:""});const i=e.ref(!1);function s(e){i.value=e.show,e.show&&setTimeout((()=>{const e={id:1,longitude:l.value.longitude,latitude:l.value.latitude,iconPath:"/static/images/map-marker.png",width:"20rpx",height:"28rpx",customCallout:{display:"ALWAYS",anchorX:0,anchorY:-16}};u.value.addMarkers({markers:[e],clear:!0}),u.value.moveToLocation({longitude:l.value.longitude,latitude:l.value.latitude})}),300)}function p(){l.value.phone?e.index.makePhoneCall({phoneNumber:l.value.phone}):e.index.showToast({icon:"none",title:"暂无司机手机号"})}return t({open:function(e){l.value=e,a.value.popup.open()}}),(o,t)=>e.e({a:i.value},(i.value,{}),{b:e.t(l.value.type),c:"卸货地"===l.value.type?1:"",d:"装货地"===l.value.type?1:"",e:e.t(l.value.name),f:e.t(l.value.address),g:e.p({color:"#E3E9EF",margin:"28rpx 0 32rpx"}),h:l.value.username||l.value.phone},l.value.username||l.value.phone?e.e({i:l.value.username},l.value.username?{j:e.t(l.value.username)}:{},{k:l.value.phone},l.value.phone?{l:e.t(l.value.phone)}:{}):{},{m:e.p({src:"/static/images/phone.png",width:"40rpx",height:"40rpx",duration:0,"custom-style":{marginRight:"4rpx"}}),n:e.o(p),o:e.p({color:"#E7F9E9","custom-style":{height:"96rpx",border:"1px solid var(--main-color)",borderRadius:"16rpx",color:"var(--main-color)"}}),p:e.p({src:"/static/images/white-location.png",width:"40rpx",height:"40rpx",duration:0,"custom-style":{marginRight:"4rpx"}}),q:e.o(r),r:e.p({color:"linear-gradient( 270deg, #31CE57 0%, #07B130 100%)","custom-style":{height:"96rpx",borderRadius:"16rpx"}}),s:e.sr(a,"f92c820c-0",{k:"drawer"}),t:e.o(s),v:e.p({showTitle:!1,bgColor:"#FFFFFF",round:"12px"})})}},t=e._export_sfc(o,[["__scopeId","data-v-f92c820c"]]);wx.createComponent(t);
