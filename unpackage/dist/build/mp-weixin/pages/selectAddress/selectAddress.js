"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uv-line")+e.resolveComponent("uv-button")+e.resolveComponent("uv"))()}Math||((()=>"../../uni_modules/uv-line/components/uv-line/uv-line.js")+(()=>"../../uni_modules/uv-button/components/uv-button/uv-button.js")+t)();const t=()=>"./components/AddressList.js",a={__name:"selectAddress",setup(t){const{ctx:a}=e.getCurrentInstance(),o=e.ref();e.onMounted((()=>{o.value=e.index.createMapContext("map",a)}));const n=e.ref(1),u=e.ref(),l=e.ref();e.onLoad((t=>{const a=e.getCurrentInstance().proxy.getOpenerEventChannel();l.value=a,a.on("setData",(async t=>{console.log("setData",t),n.value=t.type,u.value=t.data,r.value=t.data?"100%":0,t.data&&(await e.nextTick$1(),c({longitude:t.data.Logitude,latitude:t.data.Latitude}))}))}));const r=e.ref("100%");function i(){r.value=0}function v(e){console.log("changeAddress",e),u.value=e.data,n.value=e.type,r.value="100%",c({longitude:e.data.Logitude,latitude:e.data.Latitude})}const s=e.ref([]);function c(e){const{longitude:t,latitude:a}=e;if(console.log("setLocation",t,a,o.value),t&&a){const e={id:123,longitude:t,latitude:a,iconPath:"/static/images/map-marker.png",width:"30rpx",height:"42rpx",customCallout:{display:"ALWAYS",anchorX:0,anchorY:-12}};s.value=[e],o.value.moveToLocation({longitude:t,latitude:a})}}function d(){l.value.emit("confirm",{type:n.value,data:u.value}),e.index.navigateBack()}return(t,a)=>e.e({a:e.t(1===n.value?"装货":"卸货"),b:s.value,c:1===n.value&&u.value},1===n.value&&u.value?{d:e.t(u.value.Name),e:e.t(u.value.Province||""),f:e.t(u.value.City||""),g:e.t(u.value.Address||""),h:e.p({color:"#E3E9EF",margin:"28rpx 0 32rpx"}),i:e.t(u.value.Linker),j:e.t(u.value.LinkerMobile)}:{},{k:2===n.value&&u.value},2===n.value&&u.value?{l:e.t(u.value.Placename),m:e.t(u.value.Province||""),n:e.t(u.value.City||""),o:e.t(u.value.District||""),p:e.t(u.value.Address||""),q:e.p({color:"#E3E9EF",margin:"28rpx 0 32rpx"}),r:e.t(u.value.Nickname),s:e.t(u.value.Mobile)}:{},{t:e.o(i),v:e.p({text:"更改地址",color:"var(--page-bg)","custom-style":{color:"var(--sub-color)",borderRadius:"16rpx"}}),w:e.o(d),x:e.p({text:"确认所选",color:"linear-gradient( 270deg, #31CE57 0%, #07B130 100%)","custom-style":{borderRadius:"16rpx"}}),y:e.o(v),z:e.p({type:n.value}),A:`translateY(${r.value})`})}};wx.createPage(a);
