"use strict";const t=require("../../../common/vendor.js"),e=require("../../../api/index.js"),o=require("../../../utils/index.js"),i=require("../../../stores/location.js");if(!Array){(t.resolveComponent("uv-image")+t.resolveComponent("uv-load-more")+t.resolveComponent("my-empty"))()}Math||((()=>"../../../uni_modules/uv-image/components/uv-image/uv-image.js")+(()=>"../../../uni_modules/uv-load-more/components/uv-load-more/uv-load-more.js")+(()=>"../../../components/my-empty/my-empty.js"))();const a={__name:"AddressList",props:{type:{default:1}},emits:["change"],setup(a,{emit:n}){const u=i.useLocationStore(),l=a,d=n;t.watchEffect((()=>{1===l.type&&async function(){const t=await e.GetSupplierList();s.value=t}(),2===l.type&&async function(){const t=await e.GetOwnerUnloadPlace({useStatus:1});r.value=t.filter((t=>"1"===t.EnabledMark))}()}));const s=t.ref([]),r=t.ref([]);function c(t){d("change",{type:l.type,data:t})}function p({latitude:t,longitude:e}){if(!u.location||!t||!e)return null;return o.gcj02Distance({lat1:t,lon1:e,lat2:u.location.latitude,lon2:u.location.longitude})}return(e,o)=>t.e({a:1===a.type&&s.value.length>0||2===a.type&&r.value.length>0},1===a.type&&s.value.length>0||2===a.type&&r.value.length>0?t.e({b:1===a.type},1===a.type?{c:t.f(s.value,((e,o,i)=>t.e({a:"29db28c3-0-"+i,b:t.t(e.Name),c:t.t(e.Province||""),d:t.t(e.City||""),e:t.t(e.Address||""),f:p({latitude:e.Latitude,longitude:e.Logitude})},p({latitude:e.Latitude,longitude:e.Logitude})?{g:t.t(p({latitude:e.Latitude,longitude:e.Logitude}))}:{},{h:o<s.value.length-1?1:"",i:e.Id,j:t.o((t=>c(e)),e.Id)}))),d:t.p({src:"/static/images/location.png",width:"32rpx",height:"32rpx",duration:0})}:{},{e:2===a.type},2===a.type?{f:t.f(r.value,((e,o,i)=>t.e({a:"29db28c3-1-"+i,b:t.t(e.Placename),c:t.t(e.Province||""),d:t.t(e.City||""),e:t.t(e.District||""),f:t.t(e.Address||""),g:p({latitude:e.Latitude,longitude:e.Logitude})},p({latitude:e.Latitude,longitude:e.Logitude})?{h:t.t(p({latitude:e.Latitude,longitude:e.Logitude}))}:{},{i:o<r.value.length-1?1:"",j:e.Id,k:t.o((t=>c(e)),e.Id)}))),g:t.p({src:"/static/images/location.png",width:"32rpx",height:"32rpx",duration:0})}:{},{h:t.p({status:"nomore",color:"#B0BECC","line-color":"#B0BECC"})}):{i:t.p({text:"1"===a.type?"暂无装货地":"暂无卸货地"})})}},n=t._export_sfc(a,[["__scopeId","data-v-29db28c3"]]);wx.createComponent(n);
