"use strict";const e=require("../../common/vendor.js"),o=require("../../utils/token.js"),n=require("../../stores/app.js"),t=require("../../api/index.js");if(!Array){(e.resolveComponent("uv-search")+e.resolveComponent("uv-navbar")+e.resolveComponent("uv-tabs")+e.resolveComponent("my-empty")+e.resolveComponent("uv-load-more")+e.resolveComponent("my-login-drawer")+e.resolveComponent("my-tabbar"))()}Math||((()=>"../../uni_modules/uv-search/components/uv-search/uv-search.js")+(()=>"../../uni_modules/uv-navbar/components/uv-navbar/uv-navbar.js")+(()=>"../../uni_modules/uv-tabs/components/uv-tabs/uv-tabs.js")+(()=>"../../components/my-empty/my-empty.js")+a+(()=>"../../uni_modules/uv-load-more/components/uv-load-more/uv-load-more.js")+l+(()=>"../../components/my-login-drawer/my-login-drawer.js")+(()=>"../../components/my-tabbar/my-tabbar.js"))();const a=()=>"../manifestList/components/item.js",l=()=>"../waybill/components/item.js",r={__name:"task",setup(a){const l=n.useAppStore();e.onLoad((()=>{l.switchTab(2)}));const r=e.ref();function s(){r.value.open()}function u(){e.index.reLaunch({url:"/pages/task/task"})}const i=e.ref(!1),c=e.ref(0);e.onMounted((()=>{let o=e.index.getMenuButtonBoundingClientRect();console.log("menuButtonInfo",o),c.value=o.width+20}));const v=e.ref(0),m=e.ref([{name:"进行中的货单"},{name:"进行中的运单"}]);function d({name:e,index:o}){h.value=!1,v.value=o,console.log(o,e)}function p(o){0===v.value&&e.index.navigateTo({url:`/pages/manifestDetail/manifestDetail?assignId=${o.Id}`}),1===v.value&&e.index.navigateTo({url:"/pages/billDetail/billDetail"})}const f=e.ref([]);const g=e.ref([]);e.onLoad((()=>{o.getToken()&&(async function(){const e=await t.GetAssignCarList();f.value=e}(),async function(){const e=await t.GetOwnerOnwayList();g.value=e}())}));const h=e.ref(!1);return(n,t)=>e.e({a:"overflow:"+(i.value?"hidden":"visible"),b:e.o((e=>n.keyword=e)),c:e.p({placeholder:"搜索单号",showAction:!1,modelValue:n.keyword}),d:`${c.value}px`,e:e.p({placeholder:!0,"left-icon":""}),f:e.o(d),g:e.p({activeStyle:{fontWeight:"bold",color:"var(--title-color)"},inactiveStyle:{color:"var(--sub-color)"},lineWidth:"32rpx",lineHeight:"8rpx",list:m.value,scrollable:!1,lineColor:"var(--main-color)",customStyle:{background:"#ffffff"},current:v.value}),h:!e.unref(o.getToken)()},e.unref(o.getToken)()?e.e({k:0===v.value},0===v.value?e.e({l:0===f.value.length},0===f.value.length?{m:e.p({height:"100%",text:"暂无进行中的货单"})}:{n:e.f(f.value,((o,n,t)=>({a:o.Id,b:e.o(p,o.Id),c:"5cd3f056-5-"+t,d:e.p({record:o})}))),o:e.p({status:"nomore",color:"#B0BECC"})}):{},{p:1===v.value},1===v.value?e.e({q:0===g.value.length},0===g.value.length?{r:e.p({height:"100%",text:"暂无进行中的运单"})}:{s:e.f(g.value,((o,n,t)=>({a:o.OnwayId,b:"5cd3f056-8-"+t,c:e.p({record:o})}))),t:e.p({status:n.noMore2?"nomore":n.loading2?"loading":"loadmore",color:"#B0BECC"})}):{}):{i:e.o(s),j:e.p({height:"100%",showButton:!0,text:0===v.value?"暂无进行中的货单":"暂无进行中的运单"})},{v:e.unref(o.getToken)(),w:h.value,x:e.o(((...e)=>n.onRefresh&&n.onRefresh(...e))),y:e.o(((...e)=>n.onPulling&&n.onPulling(...e))),z:e.sr(r,"5cd3f056-10",{k:"loginDrawer"}),A:e.o(u)})}};wx.createPage(r);
