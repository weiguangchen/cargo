"use strict";const t=require("../../../../common/vendor.js"),e=require("../../../uv-ui-tools/libs/mixin/mpMixin.js"),i=require("../../../uv-ui-tools/libs/mixin/mixin.js"),n={name:"uv-drop-down-item",mixins:[e.mpMixin,i.mixin],emits:["click"],props:{name:{type:[String,Number],default:""},type:{type:[String,Number],default:"2"},label:{type:[String],default:""},value:{type:[String,Number,null],default:""},isDrop:{type:Boolean,default:!1}},data:()=>({parentData:{defaultValue:[0,"0","all"],textSize:"30rpx",textColor:"#333",textActiveSize:"30rpx",textActiveColor:"#3c9cff",extraIcon:{},extraActiveIcon:{},sign:"",clickHandler:Function},active:!1,isDroped:!1,elId:""}),watch:{isDrop:{handler(t){this.isDroped=t},immediate:!0},value:{handler(t){this.$nextTick((()=>{this.active=-1==this.parentData.defaultValue.indexOf(t)}))},immediate:!0}},computed:{getDownIcon(){var t,e,i,n,a;const o={size:"30rpx",color:"#333",...this.parentData.extraIcon};return(this.active||this.isDroped)&&(o.color=(null==(t=this.parentData.extraActiveIcon)?void 0:t.color)?null==(e=this.parentData.extraActiveIcon)?void 0:e.color:"#3c9cff",o.size=(null==(i=this.parentData.extraActiveIcon)?void 0:i.size)?null==(n=this.parentData.extraActiveIcon)?void 0:n.size:"30rpx"),this.isDroped&&(o.name=null==(a=this.parentData.extraActiveIcon)?void 0:a.name),o},getTextStyle(){const t={size:this.parentData.textSize,color:this.parentData.textColor};return(this.active||this.isDroped)&&(t.size=this.parentData.textActiveSize,t.color=this.parentData.textActiveColor),t}},created(){this.init()},methods:{init(){this.elId=this.$uv.guid(),this.getParentData("uv-drop-down"),this.parent||this.$uv.error("uv-drop-down必须搭配uv-drop-down-item组件使用"),t.index.$on("HANDLE_DROPDOWN_ONE",(t=>{this.isDroped&&this.elId!=t&&(this.isDroped=!1)})),t.index.$on(`${this.parentData.sign}_CLOSEPOPUP`,(async()=>{this.isDroped&&(this.isDroped=!1)}))},async clickHandler(){let e={};switch(t.index.$emit("HANDLE_DROPDOWN_ONE",this.elId),+this.type){case 1:this.active=!this.active,e={name:this.name,active:this.active,type:this.type};break;case 2:this.isDroped=!this.isDroped,e={name:this.name,active:this.isDroped,type:this.type}}this.parentData.clickHandler(e),this.$emit("click",e),t.index.$emit(`${this.parentData.sign}_CLICKMENU`,{show:+this.type>1&&this.isDroped})}}};if(!Array){(t.resolveComponent("uv-text")+t.resolveComponent("uv-icon"))()}Math||((()=>"../../../uv-text/components/uv-text/uv-text.js")+(()=>"../../../uv-icon/components/uv-icon/uv-icon.js"))();const a=t._export_sfc(n,[["render",function(e,i,n,a,o,s){return t.e({a:t.p({text:n.label,size:s.getTextStyle.size,color:s.getTextStyle.color,lines:"1","custom-style":{marginRight:"10rpx",maxWidth:"200rpx"}}),b:-1==[1,"1"].indexOf(n.type)},-1==[1,"1"].indexOf(n.type)?{c:t.p({name:s.getDownIcon.name,size:s.getDownIcon.size,color:s.getDownIcon.color})}:{},{d:t.o(((...t)=>s.clickHandler&&s.clickHandler(...t)))})}],["__scopeId","data-v-b40c2852"]]);wx.createComponent(a);
