"use strict";const e=require("../common/vendor.js"),o=require("../utils/token.js"),n=require("../api/index.js"),s=e.defineStore("user",{state:()=>({userInfo:{Id:"",Mobile:"",MgrMobile:"",OwnerId:"",Ownername:"",Nickname:"",Ismanager:"",Headicon:""}}),getters:{},actions:{async login(e){console.log("login",e);const s=await n.loginByMobile({...e});return console.log("userInfo",s),this.userInfo=s,o.setToken({userInfo:s,token:s.Token}),s},logout(){o.removeToken()},setUserInfo(e){this.userInfo=e}}});exports.useUserStore=s;
