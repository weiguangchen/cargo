"use strict";const e=require("../../common/vendor.js"),t=require("../../api/index.js"),o=require("../../utils/index.js");if(!Array){(e.resolveComponent("uv-navbar")+e.resolveComponent("uv-image")+e.resolveComponent("uv-button")+e.resolveComponent("uv-sticky")+e.resolveComponent("my-empty")+e.resolveComponent("uv-load-more"))()}Math||(n+(()=>"../../uni_modules/uv-navbar/components/uv-navbar/uv-navbar.js")+(()=>"../../uni_modules/uv-image/components/uv-image/uv-image.js")+(()=>"../../uni_modules/uv-button/components/uv-button/uv-button.js")+(()=>"../../uni_modules/uv-sticky/components/uv-sticky/uv-sticky.js")+(()=>"../../components/my-empty/my-empty.js")+a+(()=>"../../uni_modules/uv-load-more/components/uv-load-more/uv-load-more.js"))();const n=()=>"./components/my-filter-drawer.js",a=()=>"./components/item.js",u={__name:"statistics",setup(n){const{ctx:a}=e.getCurrentInstance(),u=e.ref(0);e.onLoad((()=>{let t=e.index.getMenuButtonBoundingClientRect();u.value=t.width+20}));const s=e.ref(0);function i(){e.index.navigateBack()}e.onReady((()=>{!async function(){let e=await a.$uv.getRect("#navbar");console.log("getNavbarHeight",e),s.value=e.height}()}));const r=e.ref(!1);function l(e){r.value=e.show}const m=e.ref(),v=e.ref(!1),c=e.ref({});function p(e){v.value=e.isFilter,c.value=e.params,h()}function d(){m.value.reset()}e.onLoad((()=>{h()}));const g=e.ref([]),f=e.ref({});async function h(){try{e.index.showLoading({mask:!0});const o=await t.GetOwnerTotal(c.value);g.value=(null==o?void 0:o.materialStaticList)??[],f.value={TotalAmount:o.TotalAmount,Totalweight:o.Totalweight,Cartimes:o.Cartimes}}catch{g.value=[],f.value={}}finally{e.index.hideLoading()}}return(t,n)=>e.e({a:"overflow:"+(r.value?"hidden":"visible"),b:e.sr(m,"a33bb75c-1,a33bb75c-0",{k:"filter"}),c:e.o(l),d:e.o(p),e:`${u.value}px`,f:e.o(i),g:e.p({placeholder:!0}),h:v.value},v.value?{i:e.p({duration:0,src:"/static/images/filter/redo.png",width:"28rpx",height:"28rpx","custom-style":{marginRight:"4rpx"},customTextStyle:{fontSize:"24rpx"}}),j:e.o(d),k:e.p({color:"#FC7E2C",shape:"circle","custom-style":{height:"48rpx",padding:"0 20rpx"}}),l:e.p({"offset-top":s.value,zIndex:1})}:{},{m:e.t(f.value.TotalAmount?e.unref(o.formatNumberToThousand)(f.value.TotalAmount):"-"),n:e.t(f.value.Totalweight?e.unref(o.formatNumberToThousand)(f.value.Totalweight):"-"),o:e.t(f.value.Cartimes?e.unref(o.formatNumberToThousand)(f.value.Cartimes):"-"),p:0===g.value.length},0===g.value.length?{q:e.p({img:"/static/images/empty/statistics.png",height:"250px"})}:{r:e.f(g.value,((t,o,n)=>({a:o,b:"a33bb75c-6-"+n,c:e.p({record:t})}))),s:e.p({status:"nomore",color:"#B0BECC"})})}};wx.createPage(u);
